{"ast":null,"code":"var _jsxFileName = \"/Users/ralf/PyPrograms/KanbanFlow-Web/kanban-gui-test/src/components/Board.js\",\n  _s = $RefreshSig$();\n// src/components/Board.js\nimport React, { useState, useCallback, useRef, useEffect } from 'react';\nimport Lane from './Lane';\nimport Card from './Card';\nimport FlyingCardAnimation from './FlyingCardAnimation';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Board = () => {\n  _s();\n  const [lanes, setLanes] = useState([{\n    id: 'lane-1',\n    title: 'To Do',\n    cards: [{\n      id: 'card-1',\n      text: 'Define project scope'\n    }, {\n      id: 'card-2',\n      text: 'Research market trends'\n    }]\n  }, {\n    id: 'lane-2',\n    title: 'In Progress',\n    cards: [{\n      id: 'card-3',\n      text: 'Develop initial prototype'\n    }]\n  }, {\n    id: 'lane-3',\n    title: 'Done',\n    cards: [{\n      id: 'card-4',\n      text: 'Brainstorming session'\n    }]\n  }]);\n  const [flyingAnimations, setFlyingAnimations] = useState([]);\n  const cardRefs = useRef(new Map());\n  const laneRefs = useRef(new Map());\n\n  // NEW: State to track if the board is ready for interaction\n  const [isReady, setIsReady] = useState(false);\n\n  // NEW: useEffect to set isReady after initial render and refs are likely populated\n  useEffect(() => {\n    // A small timeout ensures the DOM has settled and refs are assigned\n    const timeoutId = setTimeout(() => {\n      setIsReady(true);\n      console.log('Board component and initial refs are likely ready.');\n      console.log('Current cardRefs size:', cardRefs.current.size);\n      console.log('Current laneRefs size:', laneRefs.current.size);\n    }, 100); // Give it 100ms or so for DOM to settle\n\n    return () => clearTimeout(timeoutId); // Cleanup timeout if component unmounts\n  }, []); // Empty dependency array means this runs once after the initial render\n\n  const getCardById = useCallback(cardId => {\n    for (const lane of lanes) {\n      const card = lane.cards.find(c => c.id === cardId);\n      if (card) return card;\n    }\n    return null;\n  }, [lanes]);\n  const moveCard = useCallback((cardId, currentLaneId, targetLaneId) => {\n    setLanes(prevLanes => {\n      const newLanes = prevLanes.map(lane => ({\n        ...lane,\n        cards: [...lane.cards]\n      }));\n      let movedCard = null;\n      const sourceLaneIndex = newLanes.findIndex(lane => {\n        const cardIndex = lane.cards.findIndex(card => card.id === cardId);\n        if (cardIndex > -1) {\n          movedCard = lane.cards.splice(cardIndex, 1)[0];\n          return true;\n        }\n        return false;\n      });\n      if (movedCard) {\n        const targetLaneIndex = newLanes.findIndex(lane => lane.id === targetLaneId);\n        if (targetLaneIndex > -1) {\n          newLanes[targetLaneIndex].cards.push(movedCard);\n        }\n      }\n      return newLanes;\n    });\n  }, []);\n  const programmaticMoveCard = useCallback((cardId, targetLaneId) => {\n    console.log('Attempting to move card:', cardId, 'to lane:', targetLaneId);\n    console.log('Current cardRefs map:', cardRefs.current); // Check entire map\n    console.log('Current laneRefs map:', laneRefs.current); // Check entire map\n\n    const cardElement = cardRefs.current.get(cardId);\n    const targetLaneElement = laneRefs.current.get(targetLaneId);\n    console.log('Resolved Card Element:', cardElement);\n    console.log('Resolved Target Lane Element:', targetLaneElement);\n    if (!cardElement || !targetLaneElement) {\n      console.warn(`Refs for card ${cardId} or lane ${targetLaneId} not ready yet. Try again in a moment.`);\n      return; // Exit if refs are not ready\n    }\n    const startRect = cardElement.getBoundingClientRect();\n    const currentCardData = getCardById(cardId);\n    setFlyingAnimations(prev => [...prev, {\n      id: `flying-${cardId}-${Date.now()}`,\n      card: currentCardData,\n      startRect: startRect\n    }]);\n    setLanes(prevLanes => {\n      const newLanes = prevLanes.map(lane => ({\n        ...lane,\n        cards: [...lane.cards]\n      }));\n      let movedCard = null;\n      const sourceLaneIndex = newLanes.findIndex(lane => {\n        const cardIndex = lane.cards.findIndex(card => card.id === cardId);\n        if (cardIndex > -1) {\n          movedCard = lane.cards.splice(cardIndex, 1)[0];\n          return true;\n        }\n        return false;\n      });\n      if (movedCard) {\n        const targetLaneIndex = newLanes.findIndex(lane => lane.id === targetLaneId);\n        if (targetLaneIndex > -1) {\n          newLanes[targetLaneIndex].cards.push(movedCard);\n        }\n      }\n      return newLanes;\n    });\n    requestAnimationFrame(() => {\n      const endCardElement = cardRefs.current.get(cardId);\n      if (endCardElement) {\n        const endRect = endCardElement.getBoundingClientRect();\n        setFlyingAnimations(prev => prev.map(anim => anim.card.id === cardId && !anim.endRect ? {\n          ...anim,\n          endRect: endRect\n        } : anim));\n      } else {\n        setFlyingAnimations(prev => prev.filter(anim => anim.card.id !== cardId));\n      }\n    });\n  }, [getCardById]);\n  const handleAnimationEnd = useCallback(cardId => {\n    setFlyingAnimations(prev => prev.filter(anim => anim.card.id !== cardId));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex p-8 overflow-x-auto min-h-screen items-start bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => programmaticMoveCard('card-1', 'lane-2')\n      // NEW: Disable button until isReady is true\n      ,\n      disabled: !isReady,\n      className: `fixed bottom-4 right-4 text-white font-bold py-2 px-4 rounded shadow-lg z-50 ${isReady ? 'bg-blue-500 hover:bg-blue-700' : 'bg-gray-400 cursor-not-allowed'}`,\n      children: \"Auto Move Card 1 to 'In Progress' (Gliding)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), lanes.map(lane => /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: el => {\n        if (el) laneRefs.current.set(lane.id, el);else laneRefs.current.delete(lane.id);\n      },\n      className: \"w-80 p-4 rounded-lg shadow-inner flex-shrink-0 mr-4 bg-gray-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold mb-4 text-gray-800 border-b border-gray-300 pb-2\",\n        children: lane.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this), lane.cards.map((card, index) => {\n        const isFlyingClone = flyingAnimations.some(anim => anim.card.id === card.id && anim.endRect);\n        return /*#__PURE__*/_jsxDEV(Card, {\n          id: card.id,\n          text: card.text,\n          laneId: lane.id,\n          index: index,\n          ref: el => {\n            if (el) cardRefs.current.set(card.id, el);else cardRefs.current.delete(card.id);\n          },\n          style: {\n            visibility: isFlyingClone ? 'hidden' : 'visible'\n          }\n        }, card.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 15\n        }, this);\n      })]\n    }, lane.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }, this)), flyingAnimations.map(anim => anim.startRect && anim.endRect && /*#__PURE__*/_jsxDEV(FlyingCardAnimation, {\n      card: anim.card,\n      startRect: anim.startRect,\n      endRect: anim.endRect,\n      onAnimationEnd: handleAnimationEnd\n    }, anim.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 5\n  }, this);\n};\n_s(Board, \"xQAFXIm3LiSwXIA1QV2o3KYk3ew=\");\n_c = Board;\nexport default Board;\nvar _c;\n$RefreshReg$(_c, \"Board\");","map":{"version":3,"names":["React","useState","useCallback","useRef","useEffect","Lane","Card","FlyingCardAnimation","jsxDEV","_jsxDEV","Board","_s","lanes","setLanes","id","title","cards","text","flyingAnimations","setFlyingAnimations","cardRefs","Map","laneRefs","isReady","setIsReady","timeoutId","setTimeout","console","log","current","size","clearTimeout","getCardById","cardId","lane","card","find","c","moveCard","currentLaneId","targetLaneId","prevLanes","newLanes","map","movedCard","sourceLaneIndex","findIndex","cardIndex","splice","targetLaneIndex","push","programmaticMoveCard","cardElement","get","targetLaneElement","warn","startRect","getBoundingClientRect","currentCardData","prev","Date","now","requestAnimationFrame","endCardElement","endRect","anim","filter","handleAnimationEnd","className","children","onClick","disabled","fileName","_jsxFileName","lineNumber","columnNumber","ref","el","set","delete","index","isFlyingClone","some","laneId","style","visibility","onAnimationEnd","_c","$RefreshReg$"],"sources":["/Users/ralf/PyPrograms/KanbanFlow-Web/kanban-gui-test/src/components/Board.js"],"sourcesContent":["// src/components/Board.js\nimport React, { useState, useCallback, useRef, useEffect } from 'react';\nimport Lane from './Lane';\nimport Card from './Card';\nimport FlyingCardAnimation from './FlyingCardAnimation';\n\nconst Board = () => {\n  const [lanes, setLanes] = useState([\n    { id: 'lane-1', title: 'To Do', cards: [{ id: 'card-1', text: 'Define project scope' }, { id: 'card-2', text: 'Research market trends' }] },\n    { id: 'lane-2', title: 'In Progress', cards: [{ id: 'card-3', text: 'Develop initial prototype' }] },\n    { id: 'lane-3', title: 'Done', cards: [{ id: 'card-4', text: 'Brainstorming session' }] },\n  ]);\n\n  const [flyingAnimations, setFlyingAnimations] = useState([]);\n\n  const cardRefs = useRef(new Map());\n  const laneRefs = useRef(new Map());\n\n  // NEW: State to track if the board is ready for interaction\n  const [isReady, setIsReady] = useState(false);\n\n  // NEW: useEffect to set isReady after initial render and refs are likely populated\n  useEffect(() => {\n    // A small timeout ensures the DOM has settled and refs are assigned\n    const timeoutId = setTimeout(() => {\n      setIsReady(true);\n      console.log('Board component and initial refs are likely ready.');\n      console.log('Current cardRefs size:', cardRefs.current.size);\n      console.log('Current laneRefs size:', laneRefs.current.size);\n    }, 100); // Give it 100ms or so for DOM to settle\n\n    return () => clearTimeout(timeoutId); // Cleanup timeout if component unmounts\n  }, []); // Empty dependency array means this runs once after the initial render\n\n  const getCardById = useCallback((cardId) => {\n    for (const lane of lanes) {\n      const card = lane.cards.find(c => c.id === cardId);\n      if (card) return card;\n    }\n    return null;\n  }, [lanes]);\n\n  const moveCard = useCallback((cardId, currentLaneId, targetLaneId) => {\n    setLanes((prevLanes) => {\n      const newLanes = prevLanes.map((lane) => ({ ...lane, cards: [...lane.cards] }));\n      let movedCard = null;\n      const sourceLaneIndex = newLanes.findIndex((lane) => {\n          const cardIndex = lane.cards.findIndex((card) => card.id === cardId);\n          if (cardIndex > -1) {\n              movedCard = lane.cards.splice(cardIndex, 1)[0];\n              return true;\n          }\n          return false;\n      });\n\n      if (movedCard) {\n        const targetLaneIndex = newLanes.findIndex((lane) => lane.id === targetLaneId);\n        if (targetLaneIndex > -1) {\n          newLanes[targetLaneIndex].cards.push(movedCard);\n        }\n      }\n      return newLanes;\n    });\n  }, []);\n\n  const programmaticMoveCard = useCallback((cardId, targetLaneId) => {\n    console.log('Attempting to move card:', cardId, 'to lane:', targetLaneId);\n    console.log('Current cardRefs map:', cardRefs.current); // Check entire map\n    console.log('Current laneRefs map:', laneRefs.current); // Check entire map\n\n    const cardElement = cardRefs.current.get(cardId);\n    const targetLaneElement = laneRefs.current.get(targetLaneId);\n\n    console.log('Resolved Card Element:', cardElement);\n    console.log('Resolved Target Lane Element:', targetLaneElement);\n\n    if (!cardElement || !targetLaneElement) {\n      console.warn(`Refs for card ${cardId} or lane ${targetLaneId} not ready yet. Try again in a moment.`);\n      return; // Exit if refs are not ready\n    }\n\n    const startRect = cardElement.getBoundingClientRect();\n    const currentCardData = getCardById(cardId);\n\n    setFlyingAnimations(prev => [\n      ...prev,\n      {\n        id: `flying-${cardId}-${Date.now()}`,\n        card: currentCardData,\n        startRect: startRect,\n      }\n    ]);\n\n    setLanes((prevLanes) => {\n      const newLanes = prevLanes.map((lane) => ({ ...lane, cards: [...lane.cards] }));\n      let movedCard = null;\n      const sourceLaneIndex = newLanes.findIndex((lane) => {\n          const cardIndex = lane.cards.findIndex((card) => card.id === cardId);\n          if (cardIndex > -1) {\n              movedCard = lane.cards.splice(cardIndex, 1)[0];\n              return true;\n          }\n          return false;\n      });\n\n      if (movedCard) {\n        const targetLaneIndex = newLanes.findIndex((lane) => lane.id === targetLaneId);\n        if (targetLaneIndex > -1) {\n          newLanes[targetLaneIndex].cards.push(movedCard);\n        }\n      }\n      return newLanes;\n    });\n\n    requestAnimationFrame(() => {\n      const endCardElement = cardRefs.current.get(cardId);\n      if (endCardElement) {\n        const endRect = endCardElement.getBoundingClientRect();\n        setFlyingAnimations(prev => prev.map(anim =>\n          anim.card.id === cardId && !anim.endRect\n            ? { ...anim, endRect: endRect }\n            : anim\n        ));\n      } else {\n        setFlyingAnimations(prev => prev.filter(anim => anim.card.id !== cardId));\n      }\n    });\n\n  }, [getCardById]);\n\n  const handleAnimationEnd = useCallback((cardId) => {\n    setFlyingAnimations(prev => prev.filter(anim => anim.card.id !== cardId));\n  }, []);\n\n  return (\n    <div className=\"flex p-8 overflow-x-auto min-h-screen items-start bg-gray-50\">\n      <button\n        onClick={() => programmaticMoveCard('card-1', 'lane-2')}\n        // NEW: Disable button until isReady is true\n        disabled={!isReady}\n        className={`fixed bottom-4 right-4 text-white font-bold py-2 px-4 rounded shadow-lg z-50 ${\n          isReady ? 'bg-blue-500 hover:bg-blue-700' : 'bg-gray-400 cursor-not-allowed'\n        }`}\n      >\n        Auto Move Card 1 to 'In Progress' (Gliding)\n      </button>\n\n      {lanes.map((lane) => (\n        <div\n          key={lane.id}\n          ref={el => {\n            if (el) laneRefs.current.set(lane.id, el);\n            else laneRefs.current.delete(lane.id);\n          }}\n          className=\"w-80 p-4 rounded-lg shadow-inner flex-shrink-0 mr-4 bg-gray-100\"\n        >\n          <h2 className=\"text-xl font-semibold mb-4 text-gray-800 border-b border-gray-300 pb-2\">{lane.title}</h2>\n          {lane.cards.map((card, index) => {\n            const isFlyingClone = flyingAnimations.some(anim => anim.card.id === card.id && anim.endRect);\n            return (\n              <Card\n                key={card.id}\n                id={card.id}\n                text={card.text}\n                laneId={lane.id}\n                index={index}\n                ref={el => {\n                  if (el) cardRefs.current.set(card.id, el);\n                  else cardRefs.current.delete(card.id);\n                }}\n                style={{ visibility: isFlyingClone ? 'hidden' : 'visible' }}\n              />\n            );\n          })}\n        </div>\n      ))}\n\n      {flyingAnimations.map(anim => anim.startRect && anim.endRect && (\n        <FlyingCardAnimation\n          key={anim.id}\n          card={anim.card}\n          startRect={anim.startRect}\n          endRect={anim.endRect}\n          onAnimationEnd={handleAnimationEnd}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default Board;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,WAAW,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AACvE,OAAOC,IAAI,MAAM,QAAQ;AACzB,OAAOC,IAAI,MAAM,QAAQ;AACzB,OAAOC,mBAAmB,MAAM,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExD,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,CACjC;IAAEa,EAAE,EAAE,QAAQ;IAAEC,KAAK,EAAE,OAAO;IAAEC,KAAK,EAAE,CAAC;MAAEF,EAAE,EAAE,QAAQ;MAAEG,IAAI,EAAE;IAAuB,CAAC,EAAE;MAAEH,EAAE,EAAE,QAAQ;MAAEG,IAAI,EAAE;IAAyB,CAAC;EAAE,CAAC,EAC3I;IAAEH,EAAE,EAAE,QAAQ;IAAEC,KAAK,EAAE,aAAa;IAAEC,KAAK,EAAE,CAAC;MAAEF,EAAE,EAAE,QAAQ;MAAEG,IAAI,EAAE;IAA4B,CAAC;EAAE,CAAC,EACpG;IAAEH,EAAE,EAAE,QAAQ;IAAEC,KAAK,EAAE,MAAM;IAAEC,KAAK,EAAE,CAAC;MAAEF,EAAE,EAAE,QAAQ;MAAEG,IAAI,EAAE;IAAwB,CAAC;EAAE,CAAC,CAC1F,CAAC;EAEF,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAE5D,MAAMmB,QAAQ,GAAGjB,MAAM,CAAC,IAAIkB,GAAG,CAAC,CAAC,CAAC;EAClC,MAAMC,QAAQ,GAAGnB,MAAM,CAAC,IAAIkB,GAAG,CAAC,CAAC,CAAC;;EAElC;EACA,MAAM,CAACE,OAAO,EAAEC,UAAU,CAAC,GAAGvB,QAAQ,CAAC,KAAK,CAAC;;EAE7C;EACAG,SAAS,CAAC,MAAM;IACd;IACA,MAAMqB,SAAS,GAAGC,UAAU,CAAC,MAAM;MACjCF,UAAU,CAAC,IAAI,CAAC;MAChBG,OAAO,CAACC,GAAG,CAAC,oDAAoD,CAAC;MACjED,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAER,QAAQ,CAACS,OAAO,CAACC,IAAI,CAAC;MAC5DH,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEN,QAAQ,CAACO,OAAO,CAACC,IAAI,CAAC;IAC9D,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;;IAET,OAAO,MAAMC,YAAY,CAACN,SAAS,CAAC,CAAC,CAAC;EACxC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;EAER,MAAMO,WAAW,GAAG9B,WAAW,CAAE+B,MAAM,IAAK;IAC1C,KAAK,MAAMC,IAAI,IAAItB,KAAK,EAAE;MACxB,MAAMuB,IAAI,GAAGD,IAAI,CAAClB,KAAK,CAACoB,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACvB,EAAE,KAAKmB,MAAM,CAAC;MAClD,IAAIE,IAAI,EAAE,OAAOA,IAAI;IACvB;IACA,OAAO,IAAI;EACb,CAAC,EAAE,CAACvB,KAAK,CAAC,CAAC;EAEX,MAAM0B,QAAQ,GAAGpC,WAAW,CAAC,CAAC+B,MAAM,EAAEM,aAAa,EAAEC,YAAY,KAAK;IACpE3B,QAAQ,CAAE4B,SAAS,IAAK;MACtB,MAAMC,QAAQ,GAAGD,SAAS,CAACE,GAAG,CAAET,IAAI,KAAM;QAAE,GAAGA,IAAI;QAAElB,KAAK,EAAE,CAAC,GAAGkB,IAAI,CAAClB,KAAK;MAAE,CAAC,CAAC,CAAC;MAC/E,IAAI4B,SAAS,GAAG,IAAI;MACpB,MAAMC,eAAe,GAAGH,QAAQ,CAACI,SAAS,CAAEZ,IAAI,IAAK;QACjD,MAAMa,SAAS,GAAGb,IAAI,CAAClB,KAAK,CAAC8B,SAAS,CAAEX,IAAI,IAAKA,IAAI,CAACrB,EAAE,KAAKmB,MAAM,CAAC;QACpE,IAAIc,SAAS,GAAG,CAAC,CAAC,EAAE;UAChBH,SAAS,GAAGV,IAAI,CAAClB,KAAK,CAACgC,MAAM,CAACD,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;UAC9C,OAAO,IAAI;QACf;QACA,OAAO,KAAK;MAChB,CAAC,CAAC;MAEF,IAAIH,SAAS,EAAE;QACb,MAAMK,eAAe,GAAGP,QAAQ,CAACI,SAAS,CAAEZ,IAAI,IAAKA,IAAI,CAACpB,EAAE,KAAK0B,YAAY,CAAC;QAC9E,IAAIS,eAAe,GAAG,CAAC,CAAC,EAAE;UACxBP,QAAQ,CAACO,eAAe,CAAC,CAACjC,KAAK,CAACkC,IAAI,CAACN,SAAS,CAAC;QACjD;MACF;MACA,OAAOF,QAAQ;IACjB,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMS,oBAAoB,GAAGjD,WAAW,CAAC,CAAC+B,MAAM,EAAEO,YAAY,KAAK;IACjEb,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEK,MAAM,EAAE,UAAU,EAAEO,YAAY,CAAC;IACzEb,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAER,QAAQ,CAACS,OAAO,CAAC,CAAC,CAAC;IACxDF,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEN,QAAQ,CAACO,OAAO,CAAC,CAAC,CAAC;;IAExD,MAAMuB,WAAW,GAAGhC,QAAQ,CAACS,OAAO,CAACwB,GAAG,CAACpB,MAAM,CAAC;IAChD,MAAMqB,iBAAiB,GAAGhC,QAAQ,CAACO,OAAO,CAACwB,GAAG,CAACb,YAAY,CAAC;IAE5Db,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEwB,WAAW,CAAC;IAClDzB,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAE0B,iBAAiB,CAAC;IAE/D,IAAI,CAACF,WAAW,IAAI,CAACE,iBAAiB,EAAE;MACtC3B,OAAO,CAAC4B,IAAI,CAAC,iBAAiBtB,MAAM,YAAYO,YAAY,wCAAwC,CAAC;MACrG,OAAO,CAAC;IACV;IAEA,MAAMgB,SAAS,GAAGJ,WAAW,CAACK,qBAAqB,CAAC,CAAC;IACrD,MAAMC,eAAe,GAAG1B,WAAW,CAACC,MAAM,CAAC;IAE3Cd,mBAAmB,CAACwC,IAAI,IAAI,CAC1B,GAAGA,IAAI,EACP;MACE7C,EAAE,EAAE,UAAUmB,MAAM,IAAI2B,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE;MACpC1B,IAAI,EAAEuB,eAAe;MACrBF,SAAS,EAAEA;IACb,CAAC,CACF,CAAC;IAEF3C,QAAQ,CAAE4B,SAAS,IAAK;MACtB,MAAMC,QAAQ,GAAGD,SAAS,CAACE,GAAG,CAAET,IAAI,KAAM;QAAE,GAAGA,IAAI;QAAElB,KAAK,EAAE,CAAC,GAAGkB,IAAI,CAAClB,KAAK;MAAE,CAAC,CAAC,CAAC;MAC/E,IAAI4B,SAAS,GAAG,IAAI;MACpB,MAAMC,eAAe,GAAGH,QAAQ,CAACI,SAAS,CAAEZ,IAAI,IAAK;QACjD,MAAMa,SAAS,GAAGb,IAAI,CAAClB,KAAK,CAAC8B,SAAS,CAAEX,IAAI,IAAKA,IAAI,CAACrB,EAAE,KAAKmB,MAAM,CAAC;QACpE,IAAIc,SAAS,GAAG,CAAC,CAAC,EAAE;UAChBH,SAAS,GAAGV,IAAI,CAAClB,KAAK,CAACgC,MAAM,CAACD,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;UAC9C,OAAO,IAAI;QACf;QACA,OAAO,KAAK;MAChB,CAAC,CAAC;MAEF,IAAIH,SAAS,EAAE;QACb,MAAMK,eAAe,GAAGP,QAAQ,CAACI,SAAS,CAAEZ,IAAI,IAAKA,IAAI,CAACpB,EAAE,KAAK0B,YAAY,CAAC;QAC9E,IAAIS,eAAe,GAAG,CAAC,CAAC,EAAE;UACxBP,QAAQ,CAACO,eAAe,CAAC,CAACjC,KAAK,CAACkC,IAAI,CAACN,SAAS,CAAC;QACjD;MACF;MACA,OAAOF,QAAQ;IACjB,CAAC,CAAC;IAEFoB,qBAAqB,CAAC,MAAM;MAC1B,MAAMC,cAAc,GAAG3C,QAAQ,CAACS,OAAO,CAACwB,GAAG,CAACpB,MAAM,CAAC;MACnD,IAAI8B,cAAc,EAAE;QAClB,MAAMC,OAAO,GAAGD,cAAc,CAACN,qBAAqB,CAAC,CAAC;QACtDtC,mBAAmB,CAACwC,IAAI,IAAIA,IAAI,CAAChB,GAAG,CAACsB,IAAI,IACvCA,IAAI,CAAC9B,IAAI,CAACrB,EAAE,KAAKmB,MAAM,IAAI,CAACgC,IAAI,CAACD,OAAO,GACpC;UAAE,GAAGC,IAAI;UAAED,OAAO,EAAEA;QAAQ,CAAC,GAC7BC,IACN,CAAC,CAAC;MACJ,CAAC,MAAM;QACL9C,mBAAmB,CAACwC,IAAI,IAAIA,IAAI,CAACO,MAAM,CAACD,IAAI,IAAIA,IAAI,CAAC9B,IAAI,CAACrB,EAAE,KAAKmB,MAAM,CAAC,CAAC;MAC3E;IACF,CAAC,CAAC;EAEJ,CAAC,EAAE,CAACD,WAAW,CAAC,CAAC;EAEjB,MAAMmC,kBAAkB,GAAGjE,WAAW,CAAE+B,MAAM,IAAK;IACjDd,mBAAmB,CAACwC,IAAI,IAAIA,IAAI,CAACO,MAAM,CAACD,IAAI,IAAIA,IAAI,CAAC9B,IAAI,CAACrB,EAAE,KAAKmB,MAAM,CAAC,CAAC;EAC3E,CAAC,EAAE,EAAE,CAAC;EAEN,oBACExB,OAAA;IAAK2D,SAAS,EAAC,8DAA8D;IAAAC,QAAA,gBAC3E5D,OAAA;MACE6D,OAAO,EAAEA,CAAA,KAAMnB,oBAAoB,CAAC,QAAQ,EAAE,QAAQ;MACtD;MAAA;MACAoB,QAAQ,EAAE,CAAChD,OAAQ;MACnB6C,SAAS,EAAE,gFACT7C,OAAO,GAAG,+BAA+B,GAAG,gCAAgC,EAC3E;MAAA8C,QAAA,EACJ;IAED;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,EAER/D,KAAK,CAAC+B,GAAG,CAAET,IAAI,iBACdzB,OAAA;MAEEmE,GAAG,EAAEC,EAAE,IAAI;QACT,IAAIA,EAAE,EAAEvD,QAAQ,CAACO,OAAO,CAACiD,GAAG,CAAC5C,IAAI,CAACpB,EAAE,EAAE+D,EAAE,CAAC,CAAC,KACrCvD,QAAQ,CAACO,OAAO,CAACkD,MAAM,CAAC7C,IAAI,CAACpB,EAAE,CAAC;MACvC,CAAE;MACFsD,SAAS,EAAC,iEAAiE;MAAAC,QAAA,gBAE3E5D,OAAA;QAAI2D,SAAS,EAAC,wEAAwE;QAAAC,QAAA,EAAEnC,IAAI,CAACnB;MAAK;QAAAyD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,EACvGzC,IAAI,CAAClB,KAAK,CAAC2B,GAAG,CAAC,CAACR,IAAI,EAAE6C,KAAK,KAAK;QAC/B,MAAMC,aAAa,GAAG/D,gBAAgB,CAACgE,IAAI,CAACjB,IAAI,IAAIA,IAAI,CAAC9B,IAAI,CAACrB,EAAE,KAAKqB,IAAI,CAACrB,EAAE,IAAImD,IAAI,CAACD,OAAO,CAAC;QAC7F,oBACEvD,OAAA,CAACH,IAAI;UAEHQ,EAAE,EAAEqB,IAAI,CAACrB,EAAG;UACZG,IAAI,EAAEkB,IAAI,CAAClB,IAAK;UAChBkE,MAAM,EAAEjD,IAAI,CAACpB,EAAG;UAChBkE,KAAK,EAAEA,KAAM;UACbJ,GAAG,EAAEC,EAAE,IAAI;YACT,IAAIA,EAAE,EAAEzD,QAAQ,CAACS,OAAO,CAACiD,GAAG,CAAC3C,IAAI,CAACrB,EAAE,EAAE+D,EAAE,CAAC,CAAC,KACrCzD,QAAQ,CAACS,OAAO,CAACkD,MAAM,CAAC5C,IAAI,CAACrB,EAAE,CAAC;UACvC,CAAE;UACFsE,KAAK,EAAE;YAAEC,UAAU,EAAEJ,aAAa,GAAG,QAAQ,GAAG;UAAU;QAAE,GATvD9C,IAAI,CAACrB,EAAE;UAAA0D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAUb,CAAC;MAEN,CAAC,CAAC;IAAA,GAxBGzC,IAAI,CAACpB,EAAE;MAAA0D,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAyBT,CACN,CAAC,EAEDzD,gBAAgB,CAACyB,GAAG,CAACsB,IAAI,IAAIA,IAAI,CAACT,SAAS,IAAIS,IAAI,CAACD,OAAO,iBAC1DvD,OAAA,CAACF,mBAAmB;MAElB4B,IAAI,EAAE8B,IAAI,CAAC9B,IAAK;MAChBqB,SAAS,EAAES,IAAI,CAACT,SAAU;MAC1BQ,OAAO,EAAEC,IAAI,CAACD,OAAQ;MACtBsB,cAAc,EAAEnB;IAAmB,GAJ9BF,IAAI,CAACnD,EAAE;MAAA0D,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAKb,CACF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV,CAAC;AAAChE,EAAA,CAtLID,KAAK;AAAA6E,EAAA,GAAL7E,KAAK;AAwLX,eAAeA,KAAK;AAAC,IAAA6E,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}