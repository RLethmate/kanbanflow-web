{"ast":null,"code":"var _jsxFileName = \"/Users/ralf/PyPrograms/KanbanFlow-Web/kanban-gui-test/src/components/FlyingCardAnimation.js\",\n  _s = $RefreshSig$();\n// src/components/FlyingCardAnimation.js\nimport React, { useEffect, useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FlyingCardAnimation = ({\n  card,\n  startRect,\n  endRect,\n  onAnimationEnd\n}) => {\n  _s();\n  const animatedRef = useRef(null);\n  const [animationStarted, setAnimationStarted] = useState(false);\n  useEffect(() => {\n    if (!animatedRef.current || !startRect || !endRect) return;\n\n    // Calculate the translation needed\n    const deltaX = endRect.left - startRect.left;\n    const deltaY = endRect.top - startRect.top;\n\n    // Define the animation keyframes\n    const keyframes = [{\n      transform: 'translate(0, 0)',\n      opacity: 1\n    },\n    // Start at original position\n    {\n      transform: `translate(${deltaX}px, ${deltaY}px)`,\n      opacity: 1\n    } // End at new position\n    ];\n\n    // Define animation options\n    const options = {\n      duration: 500,\n      // Animation duration in milliseconds\n      easing: 'ease-in-out',\n      // Smooth easing function\n      fill: 'forwards' // Keep the end state\n    };\n\n    // Trigger the animation\n    const animation = animatedRef.current.animate(keyframes, options);\n    animation.onfinish = () => {\n      onAnimationEnd(card.id); // Notify parent component when animation is done\n    };\n    setAnimationStarted(true); // Mark that animation has begun\n\n    return () => {\n      animation.cancel(); // Clean up animation on unmount\n    };\n  }, [card.id, startRect, endRect, onAnimationEnd]);\n\n  // If animation hasn't started, render it at the initial position\n  if (!animationStarted && startRect) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: animatedRef,\n      className: \"bg-white p-4 mb-3 rounded shadow-md pointer-events-none\" // pointer-events-none ensures it doesn't interfere with clicks\n      ,\n      style: {\n        position: 'fixed',\n        // Use fixed to position relative to viewport\n        left: startRect.left,\n        top: startRect.top,\n        width: startRect.width,\n        height: startRect.height,\n        zIndex: 1000,\n        // Ensure it's on top\n        opacity: 1 // Start fully opaque\n      },\n      children: card.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Once animation starts, the ref will be used by the animate API\n  // Render an empty div here, as the animation target will be fixed\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: animatedRef,\n    className: \"bg-white p-4 mb-3 rounded shadow-md pointer-events-none\",\n    style: {\n      position: 'fixed',\n      left: startRect.left,\n      // Keep initial position for reference\n      top: startRect.top,\n      width: startRect.width,\n      height: startRect.height,\n      zIndex: 1000,\n      opacity: 0 // Initially hide the card itself as it's not the one animating\n    },\n    children: card.text\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n_s(FlyingCardAnimation, \"z/3Fxrx/kpX+FqmW4DAV+hl7H8s=\");\n_c = FlyingCardAnimation;\nexport default FlyingCardAnimation;\nvar _c;\n$RefreshReg$(_c, \"FlyingCardAnimation\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","FlyingCardAnimation","card","startRect","endRect","onAnimationEnd","_s","animatedRef","animationStarted","setAnimationStarted","current","deltaX","left","deltaY","top","keyframes","transform","opacity","options","duration","easing","fill","animation","animate","onfinish","id","cancel","ref","className","style","position","width","height","zIndex","children","text","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/ralf/PyPrograms/KanbanFlow-Web/kanban-gui-test/src/components/FlyingCardAnimation.js"],"sourcesContent":["// src/components/FlyingCardAnimation.js\nimport React, { useEffect, useRef, useState } from 'react';\n\nconst FlyingCardAnimation = ({ card, startRect, endRect, onAnimationEnd }) => {\n  const animatedRef = useRef(null);\n  const [animationStarted, setAnimationStarted] = useState(false);\n\n  useEffect(() => {\n    if (!animatedRef.current || !startRect || !endRect) return;\n\n    // Calculate the translation needed\n    const deltaX = endRect.left - startRect.left;\n    const deltaY = endRect.top - startRect.top;\n\n    // Define the animation keyframes\n    const keyframes = [\n      { transform: 'translate(0, 0)', opacity: 1 }, // Start at original position\n      { transform: `translate(${deltaX}px, ${deltaY}px)`, opacity: 1 }, // End at new position\n    ];\n\n    // Define animation options\n    const options = {\n      duration: 500, // Animation duration in milliseconds\n      easing: 'ease-in-out', // Smooth easing function\n      fill: 'forwards', // Keep the end state\n    };\n\n    // Trigger the animation\n    const animation = animatedRef.current.animate(keyframes, options);\n\n    animation.onfinish = () => {\n      onAnimationEnd(card.id); // Notify parent component when animation is done\n    };\n\n    setAnimationStarted(true); // Mark that animation has begun\n\n    return () => {\n      animation.cancel(); // Clean up animation on unmount\n    };\n  }, [card.id, startRect, endRect, onAnimationEnd]);\n\n  // If animation hasn't started, render it at the initial position\n  if (!animationStarted && startRect) {\n    return (\n      <div\n        ref={animatedRef}\n        className=\"bg-white p-4 mb-3 rounded shadow-md pointer-events-none\" // pointer-events-none ensures it doesn't interfere with clicks\n        style={{\n          position: 'fixed', // Use fixed to position relative to viewport\n          left: startRect.left,\n          top: startRect.top,\n          width: startRect.width,\n          height: startRect.height,\n          zIndex: 1000, // Ensure it's on top\n          opacity: 1, // Start fully opaque\n        }}\n      >\n        {card.text}\n      </div>\n    );\n  }\n\n  // Once animation starts, the ref will be used by the animate API\n  // Render an empty div here, as the animation target will be fixed\n  return (\n    <div\n      ref={animatedRef}\n      className=\"bg-white p-4 mb-3 rounded shadow-md pointer-events-none\"\n      style={{\n        position: 'fixed',\n        left: startRect.left, // Keep initial position for reference\n        top: startRect.top,\n        width: startRect.width,\n        height: startRect.height,\n        zIndex: 1000,\n        opacity: 0, // Initially hide the card itself as it's not the one animating\n      }}\n    >\n      {card.text}\n    </div>\n  );\n};\n\nexport default FlyingCardAnimation;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}