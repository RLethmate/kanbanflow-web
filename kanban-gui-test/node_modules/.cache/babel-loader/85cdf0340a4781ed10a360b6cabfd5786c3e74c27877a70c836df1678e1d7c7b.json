{"ast":null,"code":"var _jsxFileName = \"/Users/ralf/PyPrograms/KanbanFlow-Web/kanban-gui-test/src/components/Board.js\",\n  _s = $RefreshSig$();\n// src/components/Board.js\nimport React, { useState, useCallback, useRef, useEffect } from 'react';\nimport Lane from './Lane';\nimport Card from './Card';\nimport FlyingCardAnimation from './FlyingCardAnimation';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://127.0.0.1:8000';\nconst Board = () => {\n  _s();\n  const [lanes, setLanes] = useState([]);\n  const [dashboardData, setDashboardData] = useState([]);\n\n  // NEW: complexity is now a dictionary\n  const [complexity, setComplexity] = useState({\n    1: 1,\n    3: 1,\n    5: 1\n  }); // Default for \"Schritt A/B/C\"\n  const [wipLimit, setWipLimit] = useState(5);\n  const [simSpeed, setSimSpeed] = useState(1.0);\n  const [simulationRunning, setSimulationRunning] = useState(false);\n  const flyingAnimations = useRef([]); // Ref for mutable array of animations\n  const cardRefs = useRef(new Map());\n  const laneRefs = useRef(new Map());\n  const [isReady, setIsReady] = useState(false);\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      setIsReady(true);\n      console.log('Board component and initial refs are likely ready.');\n    }, 100);\n    return () => clearTimeout(timeoutId);\n  }, []);\n  const getCardById = useCallback(cardId => {\n    for (const lane of lanes) {\n      const card = lane.cards.find(c => c.id === cardId);\n      if (card) return card;\n    }\n    return null;\n  }, [lanes]);\n  const programmaticMoveCard = useCallback((cardId, targetLaneId) => {\n    const cardElement = cardRefs.current.get(cardId);\n    const targetLaneElement = laneRefs.current.get(targetLaneId);\n    if (!cardElement || !targetLaneElement) {\n      console.warn(`[Gliding] Could not find element for card ${cardId} or lane ${targetLaneId}. Cannot animate.`);\n      return;\n    }\n    const startRect = cardElement.getBoundingClientRect();\n    const currentCardData = getCardById(cardId);\n    if (!currentCardData) {\n      console.warn(`[Gliding] Card ${cardId} not found in current state for animation.`);\n      return;\n    }\n\n    // Add animation data immediately\n    flyingAnimations.current.push({\n      id: `flying-${cardId}-${Date.now()}`,\n      card: currentCardData,\n      startRect: startRect,\n      endRect: null // Will be updated via rAF\n    });\n    // Trigger re-render to include the new FlyingCardAnimation component\n    flyingAnimations.current = [...flyingAnimations.current]; // Force re-render if using useRef directly\n    // Or, better, use a useState for flyingAnimations if not already. Let's use useState as initially planned for better React management.\n    // Revert flyingAnimations to useState if it's useRef in your current code:\n    // const [flyingAnimations, setFlyingAnimations] = useState([]);\n\n    // Schedule getting endRect after React re-renders the actual card\n    requestAnimationFrame(() => {\n      const endCardElement = cardRefs.current.get(cardId);\n      if (endCardElement) {\n        const endRect = endCardElement.getBoundingClientRect();\n        // Find and update the specific animation entry\n        const indexToUpdate = flyingAnimations.current.findIndex(anim => anim.card.id === cardId && anim.endRect === null);\n        if (indexToUpdate !== -1) {\n          flyingAnimations.current[indexToUpdate].endRect = endRect;\n          flyingAnimations.current = [...flyingAnimations.current]; // Force re-render\n        }\n      } else {\n        console.warn(`[Gliding] Card ${cardId} not found in new state to determine endRect.`);\n        // Remove animation if endRect cannot be found\n        flyingAnimations.current = flyingAnimations.current.filter(anim => anim.card.id !== cardId);\n      }\n    });\n  }, [getCardById]);\n  const handleAnimationEnd = useCallback(animatedCardId => {\n    console.log(`[Gliding] Animation ended for card: ${animatedCardId}. Clearing animation entry.`);\n    flyingAnimations.current = flyingAnimations.current.filter(anim => anim.card.id !== animatedCardId);\n    flyingAnimations.current = [...flyingAnimations.current]; // Force re-render\n  }, []);\n  const setConfig = useCallback(async () => {\n    console.log(\"setConfig: Attempting to set simulation config...\");\n    try {\n      const response = await fetch(`${API_BASE_URL}/simulation/config`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          complexity,\n          wip_limit: wipLimit,\n          speed: simSpeed\n        }) // Send complexity as dict\n      });\n      console.log(\"setConfig: Fetch request sent and response received.\");\n      const data = await response.json();\n      if (response.ok) {\n        console.log('setConfig: Config set successfully:', data);\n      } else {\n        console.error('setConfig: Failed to set config (server responded with error):', data);\n      }\n    } catch (error) {\n      console.error('setConfig: Network error or problem sending request:', error);\n    }\n  }, [complexity, wipLimit, simSpeed]); // Depend on complexity (dict)\n\n  const startSimulation = useCallback(async () => {\n    console.log(\"startSimulation: Attempting to start simulation...\");\n    try {\n      await setConfig();\n      console.log(\"startSimulation: setConfig call finished.\");\n      const response = await fetch(`${API_BASE_URL}/simulation/start`, {\n        method: 'POST'\n      });\n      const data = await response.json();\n      if (response.ok) {\n        console.log('startSimulation: Simulation started successfully:', data);\n        setSimulationRunning(true);\n      } else {\n        console.error('startSimulation: Failed to start simulation (server responded with error):', data);\n      }\n    } catch (error) {\n      console.error('startSimulation: Network error starting simulation or error from setConfig:', error);\n    }\n  }, [setConfig]);\n  const stopSimulation = useCallback(async () => {\n    console.log(\"Stopping simulation...\");\n    try {\n      const response = await fetch(`${API_BASE_URL}/simulation/stop`, {\n        method: 'POST'\n      });\n      const data = await response.json();\n      if (response.ok) {\n        console.log('Simulation stopped:', data);\n        setSimulationRunning(false);\n      } else {\n        console.error('Failed to stop simulation:', data);\n      }\n    } catch (error) {\n      console.error('Network error stopping simulation:', error);\n    }\n  }, []);\n  const clearDashboard = useCallback(async () => {\n    console.log(\"Clearing dashboard...\");\n    try {\n      const response = await fetch(`${API_BASE_URL}/dashboard/clear`, {\n        method: 'POST'\n      });\n      const data = await response.json();\n      if (response.ok) {\n        console.log('Dashboard cleared:', data);\n        setDashboardData([]);\n      } else {\n        console.error('Failed to clear dashboard:', data);\n      }\n    } catch (error) {\n      console.error('Network error clearing dashboard:', error);\n    }\n  }, []);\n  useEffect(() => {\n    let intervalId;\n    const pollingInterval = 1000; // 1 second\n\n    const fetchSimulationData = async () => {\n      try {\n        const boardResponse = await fetch(`${API_BASE_URL}/simulation/status`);\n        const boardData = await boardResponse.json();\n        if (boardResponse.ok) {\n          setSimulationRunning(boardData.is_running);\n          setLanes(prevLanes => {\n            const newLanes = boardData.lanes;\n            if (!prevLanes.length) return newLanes;\n            const cardsToAnimateData = [];\n            const oldCardsMap = new Map();\n            prevLanes.forEach(lane => {\n              lane.cards.forEach(card => {\n                oldCardsMap.set(card.id, card);\n              });\n            });\n            for (const newLane of newLanes) {\n              for (const newCard of newLane.cards) {\n                const oldCard = oldCardsMap.get(newCard.id);\n                if (oldCard && oldCard.col !== newCard.col) {\n                  const cardElement = cardRefs.current.get(oldCard.id);\n                  if (cardElement) {\n                    cardsToAnimateData.push({\n                      card: oldCard,\n                      newLaneId: newCard.col,\n                      startRect: cardElement.getBoundingClientRect()\n                    });\n                  } else {\n                    console.warn(`[Gliding-Fix] Old element for card ${oldCard.id} (from lane ${oldCard.col} to ${newCard.col}) not found for animation. Skipping glide.`);\n                  }\n                }\n              }\n            }\n\n            // Immediately push animation data to a ref, then trigger re-render\n            // to ensure FlyingCardAnimation components are mounted quickly.\n            cardsToAnimateData.forEach(animData => {\n              flyingAnimations.current.push({\n                id: `flying-${animData.card.id}-${Date.now()}`,\n                card: animData.card,\n                startRect: animData.startRect,\n                endRect: null // Will be updated by rAF\n              });\n            });\n            // Force React to re-render to pick up new items in flyingAnimations.current\n            // This is crucial when using a ref for an array that causes UI changes.\n            flyingAnimations.current = [...flyingAnimations.current];\n\n            // Schedule endRect calculation after React updates DOM for newLanes\n            requestAnimationFrame(() => {\n              flyingAnimations.current = flyingAnimations.current.map(anim => {\n                if (anim.startRect && anim.endRect === null) {\n                  const newCardInDOM = cardRefs.current.get(anim.card.id);\n                  if (newCardInDOM) {\n                    const endRect = newCardInDOM.getBoundingClientRect();\n                    return {\n                      ...anim,\n                      endRect: endRect\n                    };\n                  } else {\n                    console.warn(`[Gliding-Fix] Card ${anim.card.id} not found in new DOM position for endRect. Cancelling animation clone.`);\n                    return null;\n                  }\n                }\n                return anim;\n              }).filter(Boolean); // Remove null entries (cancelled animations)\n              flyingAnimations.current = [...flyingAnimations.current]; // Force re-render after updating endRects\n            });\n            return newLanes;\n          });\n        } else {\n          console.error('Failed to fetch board state:', boardData);\n          setSimulationRunning(false);\n        }\n      } catch (error) {\n        console.error('Network error fetching board state:', error);\n        setSimulationRunning(false);\n      }\n      try {\n        const dashboardResponse = await fetch(`${API_BASE_URL}/dashboard/data`);\n        const dashboardData = await dashboardResponse.json();\n        if (dashboardResponse.ok) {\n          setDashboardData(dashboardData.dashboard_entries || []);\n        } else {\n          console.error('Failed to fetch dashboard data:', dashboardData);\n        }\n      } catch (error) {\n        console.error('Network error fetching dashboard data:', error);\n      }\n    };\n    fetchSimulationData(); // Initial fetch\n    intervalId = setInterval(fetchSimulationData, pollingInterval);\n    return () => {\n      clearInterval(intervalId);\n      console.log('Polling interval cleared.');\n    };\n  }, [programmaticMoveCard]);\n\n  // Handler for individual complexity input changes\n  const handleComplexityChange = useCallback((colId, value) => {\n    setComplexity(prev => ({\n      ...prev,\n      [colId]: parseInt(value) || 0\n    }));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col p-8 bg-gray-50 min-h-screen\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8 p-6 bg-white rounded-lg shadow-md max-w-full lg:max-w-4xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-2xl font-bold text-gray-800 mb-4 border-b pb-2\",\n        children: \"Simulation Controls\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 text-sm font-bold mb-2\",\n            children: \"Overall WIP Limit:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: wipLimit,\n            onChange: e => setWipLimit(parseInt(e.target.value) || 0),\n            className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n            min: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this), [1, 3, 5].map(colId =>\n        /*#__PURE__*/\n        // For columns \"Schritt A\" (1), \"Schritt B\" (3), \"Schritt C\" (5)\n        _jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 text-sm font-bold mb-2\",\n            children: [\"Complexity (Schritt \", String.fromCharCode(64 + colId), \"):\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: complexity[colId] || 1 // Default to 1 if not set\n            ,\n            onChange: e => handleComplexityChange(colId, e.target.value),\n            className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n            min: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this)]\n        }, colId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 text-sm font-bold mb-2\",\n            children: \"Sim Speed (sec/step):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            step: \"0.1\",\n            value: simSpeed,\n            onChange: e => setSimSpeed(parseFloat(e.target.value) || 0.0),\n            className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n            min: \"0.1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: startSimulation,\n          disabled: !isReady || simulationRunning,\n          className: `px-6 py-3 rounded-lg text-white font-bold transition-colors duration-200 ${!isReady || simulationRunning ? 'bg-gray-400 cursor-not-allowed' : 'bg-green-500 hover:bg-green-700'}`,\n          children: \"Start Simulation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: stopSimulation,\n          disabled: !isReady || !simulationRunning,\n          className: `px-6 py-3 rounded-lg text-white font-bold transition-colors duration-200 ${!isReady || !simulationRunning ? 'bg-gray-400 cursor-not-allowed' : 'bg-red-500 hover:bg-red-700'}`,\n          children: \"Stop Simulation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clearDashboard,\n          disabled: !isReady,\n          className: `px-6 py-3 rounded-lg text-white font-bold transition-colors duration-200 ${!isReady ? 'bg-gray-400 cursor-not-allowed' : 'bg-yellow-500 hover:bg-yellow-700'}`,\n          children: \"Clear Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex p-4 overflow-x-auto items-start bg-gray-100 rounded-lg shadow-inner flex-grow\",\n      children: lanes.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-gray-500 w-full p-10\",\n        children: \"No board data available. Start simulation to load cards.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 11\n      }, this) : lanes.map(lane => /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: el => {\n          if (el) laneRefs.current.set(lane.id, el);else laneRefs.current.delete(lane.id);\n        }\n        // Column width styling\n        ,\n        className: \"p-3 rounded-lg shadow-inner flex-shrink-0 mr-2 bg-gray-200 min-h-[400px] flex flex-col items-center\" // Smaller padding, less margin\n        ,\n        style: {\n          width: '130px'\n        } // Fixed smaller width for columns\n        ,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-base font-semibold mb-2 text-gray-800 border-b border-gray-300 pb-1 text-center w-full\",\n          children: [\" \", lane.title, lane.max_wip_in_round !== undefined &&\n          /*#__PURE__*/\n          // Display Max WIP for the round\n          _jsxDEV(\"span\", {\n            className: \"text-xs text-gray-500 block\",\n            children: [\"Max WIP: \", lane.max_wip_in_round]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center w-full mt-2 overflow-y-auto\",\n          children: [\" \", lane.cards.map((card, index) => {\n            const isFlyingClone = flyingAnimations.current.some(anim => anim.card.id === card.id); // Check current ref\n            return /*#__PURE__*/_jsxDEV(Card, {\n              id: card.id,\n              text: card.birth_id ? `Card ${card.birth_id}` : card.id,\n              laneId: card.col,\n              index: index,\n              ref: el => {\n                if (el) cardRefs.current.set(card.id, el);else cardRefs.current.delete(card.id);\n              },\n              style: {\n                visibility: isFlyingClone ? 'hidden' : 'visible',\n                backgroundColor: card.is_red ? '#ca0633' : '#ffffff',\n                width: 'auto',\n                // Allow width to adjust\n                minWidth: '70px',\n                // Minimum width for \"Card 00\"\n                maxWidth: '90px',\n                // Max width to keep it compact\n                padding: '6px 8px',\n                // Smaller padding\n                textAlign: 'center',\n                // Center text\n                display: 'flex',\n                // Use flexbox for centering content\n                justifyContent: 'center',\n                // Center horizontally\n                alignItems: 'center' // Center vertically\n              }\n            }, card.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 21\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 15\n        }, this)]\n      }, lane.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 p-4 bg-white rounded-lg shadow-md max-w-full lg:max-w-4xl mx-auto text-sm\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-gray-800 mb-3 border-b pb-1\",\n        children: \"Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 9\n      }, this), \" \", dashboardData.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500\",\n        children: \"Dashboard is empty. Run a simulation!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full divide-y divide-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Round\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"WiP Limit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Cycle Time (Red Card)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Flow Efficiency\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"In Progress\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Done\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Throughput\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"bg-white divide-y divide-gray-200\",\n            children: dashboardData.map((entry, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-2 py-1 whitespace-nowrap text-xs text-gray-900\",\n                children: entry.round\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-2 py-1 whitespace-nowrap text-xs text-gray-900\",\n                children: entry.wip_limit\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-2 py-1 whitespace-nowrap text-xs text-gray-900\",\n                children: entry.red_card_cycle_time\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-2 py-1 whitespace-nowrap text-xs text-gray-900\",\n                children: entry.flow_efficiency\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-2 py-1 whitespace-nowrap text-xs text-gray-900\",\n                children: entry.in_progress\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-2 py-1 whitespace-nowrap text-xs text-gray-900\",\n                children: entry.done\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-2 py-1 whitespace-nowrap text-xs text-gray-900\",\n                children: entry.throughput\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 7\n    }, this), flyingAnimations.current.map(anim => anim.startRect && /*#__PURE__*/_jsxDEV(FlyingCardAnimation, {\n      card: anim.card,\n      startRect: anim.startRect,\n      endRect: anim.endRect,\n      onAnimationEnd: handleAnimationEnd\n    }, anim.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 293,\n    columnNumber: 5\n  }, this);\n};\n_s(Board, \"BWDALJw5VP4/A3Hzab3oEkC1GoM=\");\n_c = Board;\nexport default Board;\nvar _c;\n$RefreshReg$(_c, \"Board\");","map":{"version":3,"names":["React","useState","useCallback","useRef","useEffect","Lane","Card","FlyingCardAnimation","jsxDEV","_jsxDEV","API_BASE_URL","Board","_s","lanes","setLanes","dashboardData","setDashboardData","complexity","setComplexity","wipLimit","setWipLimit","simSpeed","setSimSpeed","simulationRunning","setSimulationRunning","flyingAnimations","cardRefs","Map","laneRefs","isReady","setIsReady","timeoutId","setTimeout","console","log","clearTimeout","getCardById","cardId","lane","card","cards","find","c","id","programmaticMoveCard","targetLaneId","cardElement","current","get","targetLaneElement","warn","startRect","getBoundingClientRect","currentCardData","push","Date","now","endRect","requestAnimationFrame","endCardElement","indexToUpdate","findIndex","anim","filter","handleAnimationEnd","animatedCardId","setConfig","response","fetch","method","headers","body","JSON","stringify","wip_limit","speed","data","json","ok","error","startSimulation","stopSimulation","clearDashboard","intervalId","pollingInterval","fetchSimulationData","boardResponse","boardData","is_running","prevLanes","newLanes","length","cardsToAnimateData","oldCardsMap","forEach","set","newLane","newCard","oldCard","col","newLaneId","animData","map","newCardInDOM","Boolean","dashboardResponse","dashboard_entries","setInterval","clearInterval","handleComplexityChange","colId","value","prev","parseInt","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","e","target","min","String","fromCharCode","step","parseFloat","onClick","disabled","ref","el","delete","style","width","title","max_wip_in_round","undefined","index","isFlyingClone","some","text","birth_id","laneId","visibility","backgroundColor","is_red","minWidth","maxWidth","padding","textAlign","display","justifyContent","alignItems","entry","round","red_card_cycle_time","flow_efficiency","in_progress","done","throughput","onAnimationEnd","_c","$RefreshReg$"],"sources":["/Users/ralf/PyPrograms/KanbanFlow-Web/kanban-gui-test/src/components/Board.js"],"sourcesContent":["// src/components/Board.js\nimport React, { useState, useCallback, useRef, useEffect } from 'react';\nimport Lane from './Lane';\nimport Card from './Card';\nimport FlyingCardAnimation from './FlyingCardAnimation';\n\nconst API_BASE_URL = 'http://127.0.0.1:8000';\n\nconst Board = () => {\n  const [lanes, setLanes] = useState([]);\n  const [dashboardData, setDashboardData] = useState([]);\n\n  // NEW: complexity is now a dictionary\n  const [complexity, setComplexity] = useState({ 1: 1, 3: 1, 5: 1 }); // Default for \"Schritt A/B/C\"\n  const [wipLimit, setWipLimit] = useState(5);\n  const [simSpeed, setSimSpeed] = useState(1.0);\n\n  const [simulationRunning, setSimulationRunning] = useState(false);\n\n  const flyingAnimations = useRef([]); // Ref for mutable array of animations\n  const cardRefs = useRef(new Map());\n  const laneRefs = useRef(new Map());\n\n  const [isReady, setIsReady] = useState(false);\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      setIsReady(true);\n      console.log('Board component and initial refs are likely ready.');\n    }, 100);\n    return () => clearTimeout(timeoutId);\n  }, []);\n\n  const getCardById = useCallback((cardId) => {\n    for (const lane of lanes) {\n      const card = lane.cards.find(c => c.id === cardId);\n      if (card) return card;\n    }\n    return null;\n  }, [lanes]);\n\n  const programmaticMoveCard = useCallback((cardId, targetLaneId) => {\n    const cardElement = cardRefs.current.get(cardId);\n    const targetLaneElement = laneRefs.current.get(targetLaneId);\n\n    if (!cardElement || !targetLaneElement) {\n      console.warn(`[Gliding] Could not find element for card ${cardId} or lane ${targetLaneId}. Cannot animate.`);\n      return;\n    }\n\n    const startRect = cardElement.getBoundingClientRect();\n    const currentCardData = getCardById(cardId);\n\n    if (!currentCardData) {\n        console.warn(`[Gliding] Card ${cardId} not found in current state for animation.`);\n        return;\n    }\n\n    // Add animation data immediately\n    flyingAnimations.current.push({\n        id: `flying-${cardId}-${Date.now()}`,\n        card: currentCardData,\n        startRect: startRect,\n        endRect: null // Will be updated via rAF\n    });\n    // Trigger re-render to include the new FlyingCardAnimation component\n    flyingAnimations.current = [...flyingAnimations.current]; // Force re-render if using useRef directly\n    // Or, better, use a useState for flyingAnimations if not already. Let's use useState as initially planned for better React management.\n    // Revert flyingAnimations to useState if it's useRef in your current code:\n    // const [flyingAnimations, setFlyingAnimations] = useState([]);\n\n    // Schedule getting endRect after React re-renders the actual card\n    requestAnimationFrame(() => {\n      const endCardElement = cardRefs.current.get(cardId);\n      if (endCardElement) {\n        const endRect = endCardElement.getBoundingClientRect();\n        // Find and update the specific animation entry\n        const indexToUpdate = flyingAnimations.current.findIndex(anim => anim.card.id === cardId && anim.endRect === null);\n        if (indexToUpdate !== -1) {\n            flyingAnimations.current[indexToUpdate].endRect = endRect;\n            flyingAnimations.current = [...flyingAnimations.current]; // Force re-render\n        }\n      } else {\n        console.warn(`[Gliding] Card ${cardId} not found in new state to determine endRect.`);\n        // Remove animation if endRect cannot be found\n        flyingAnimations.current = flyingAnimations.current.filter(anim => anim.card.id !== cardId);\n      }\n    });\n\n  }, [getCardById]);\n\n\n  const handleAnimationEnd = useCallback((animatedCardId) => {\n    console.log(`[Gliding] Animation ended for card: ${animatedCardId}. Clearing animation entry.`);\n    flyingAnimations.current = flyingAnimations.current.filter(anim => anim.card.id !== animatedCardId);\n    flyingAnimations.current = [...flyingAnimations.current]; // Force re-render\n  }, []);\n\n  const setConfig = useCallback(async () => {\n    console.log(\"setConfig: Attempting to set simulation config...\");\n    try {\n      const response = await fetch(`${API_BASE_URL}/simulation/config`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ complexity, wip_limit: wipLimit, speed: simSpeed }), // Send complexity as dict\n      });\n      console.log(\"setConfig: Fetch request sent and response received.\");\n      const data = await response.json();\n      if (response.ok) {\n        console.log('setConfig: Config set successfully:', data);\n      } else {\n        console.error('setConfig: Failed to set config (server responded with error):', data);\n      }\n    } catch (error) {\n      console.error('setConfig: Network error or problem sending request:', error);\n    }\n  }, [complexity, wipLimit, simSpeed]); // Depend on complexity (dict)\n\n  const startSimulation = useCallback(async () => {\n    console.log(\"startSimulation: Attempting to start simulation...\");\n    try {\n      await setConfig();\n      console.log(\"startSimulation: setConfig call finished.\");\n\n      const response = await fetch(`${API_BASE_URL}/simulation/start`, {\n        method: 'POST',\n      });\n      const data = await response.json();\n      if (response.ok) {\n        console.log('startSimulation: Simulation started successfully:', data);\n        setSimulationRunning(true);\n      } else {\n        console.error('startSimulation: Failed to start simulation (server responded with error):', data);\n      }\n    } catch (error) {\n      console.error('startSimulation: Network error starting simulation or error from setConfig:', error);\n    }\n  }, [setConfig]);\n\n  const stopSimulation = useCallback(async () => {\n    console.log(\"Stopping simulation...\");\n    try {\n      const response = await fetch(`${API_BASE_URL}/simulation/stop`, {\n        method: 'POST',\n      });\n      const data = await response.json();\n      if (response.ok) {\n        console.log('Simulation stopped:', data);\n        setSimulationRunning(false);\n      } else {\n        console.error('Failed to stop simulation:', data);\n      }\n    } catch (error) {\n      console.error('Network error stopping simulation:', error);\n    }\n  }, []);\n\n  const clearDashboard = useCallback(async () => {\n    console.log(\"Clearing dashboard...\");\n    try {\n      const response = await fetch(`${API_BASE_URL}/dashboard/clear`, {\n        method: 'POST',\n      });\n      const data = await response.json();\n      if (response.ok) {\n        console.log('Dashboard cleared:', data);\n        setDashboardData([]);\n      } else {\n        console.error('Failed to clear dashboard:', data);\n      }\n    } catch (error) {\n      console.error('Network error clearing dashboard:', error);\n    }\n  }, []);\n\n  useEffect(() => {\n    let intervalId;\n    const pollingInterval = 1000; // 1 second\n\n    const fetchSimulationData = async () => {\n      try {\n        const boardResponse = await fetch(`${API_BASE_URL}/simulation/status`);\n        const boardData = await boardResponse.json();\n        if (boardResponse.ok) {\n          setSimulationRunning(boardData.is_running);\n\n          setLanes(prevLanes => {\n            const newLanes = boardData.lanes;\n            if (!prevLanes.length) return newLanes;\n\n            const cardsToAnimateData = [];\n            const oldCardsMap = new Map();\n            prevLanes.forEach(lane => {\n                lane.cards.forEach(card => {\n                    oldCardsMap.set(card.id, card);\n                });\n            });\n\n            for (const newLane of newLanes) {\n                for (const newCard of newLane.cards) {\n                    const oldCard = oldCardsMap.get(newCard.id);\n                    if (oldCard && oldCard.col !== newCard.col) {\n                        const cardElement = cardRefs.current.get(oldCard.id);\n                        if (cardElement) {\n                            cardsToAnimateData.push({\n                                card: oldCard,\n                                newLaneId: newCard.col,\n                                startRect: cardElement.getBoundingClientRect()\n                            });\n                        } else {\n                            console.warn(`[Gliding-Fix] Old element for card ${oldCard.id} (from lane ${oldCard.col} to ${newCard.col}) not found for animation. Skipping glide.`);\n                        }\n                    }\n                }\n            }\n\n            // Immediately push animation data to a ref, then trigger re-render\n            // to ensure FlyingCardAnimation components are mounted quickly.\n            cardsToAnimateData.forEach(animData => {\n                flyingAnimations.current.push({\n                    id: `flying-${animData.card.id}-${Date.now()}`,\n                    card: animData.card,\n                    startRect: animData.startRect,\n                    endRect: null // Will be updated by rAF\n                });\n            });\n            // Force React to re-render to pick up new items in flyingAnimations.current\n            // This is crucial when using a ref for an array that causes UI changes.\n            flyingAnimations.current = [...flyingAnimations.current];\n\n\n            // Schedule endRect calculation after React updates DOM for newLanes\n            requestAnimationFrame(() => {\n                flyingAnimations.current = flyingAnimations.current.map(anim => {\n                    if (anim.startRect && anim.endRect === null) {\n                        const newCardInDOM = cardRefs.current.get(anim.card.id);\n                        if (newCardInDOM) {\n                            const endRect = newCardInDOM.getBoundingClientRect();\n                            return { ...anim, endRect: endRect };\n                        } else {\n                            console.warn(`[Gliding-Fix] Card ${anim.card.id} not found in new DOM position for endRect. Cancelling animation clone.`);\n                            return null;\n                        }\n                    }\n                    return anim;\n                }).filter(Boolean); // Remove null entries (cancelled animations)\n                flyingAnimations.current = [...flyingAnimations.current]; // Force re-render after updating endRects\n            });\n\n            return newLanes;\n          });\n\n        } else {\n          console.error('Failed to fetch board state:', boardData);\n          setSimulationRunning(false);\n        }\n      } catch (error) {\n        console.error('Network error fetching board state:', error);\n        setSimulationRunning(false);\n      }\n\n      try {\n        const dashboardResponse = await fetch(`${API_BASE_URL}/dashboard/data`);\n        const dashboardData = await dashboardResponse.json();\n        if (dashboardResponse.ok) {\n          setDashboardData(dashboardData.dashboard_entries || []);\n        } else {\n          console.error('Failed to fetch dashboard data:', dashboardData);\n        }\n      } catch (error) {\n        console.error('Network error fetching dashboard data:', error);\n      }\n    };\n\n    fetchSimulationData(); // Initial fetch\n    intervalId = setInterval(fetchSimulationData, pollingInterval);\n    return () => {\n      clearInterval(intervalId);\n      console.log('Polling interval cleared.');\n    };\n  }, [programmaticMoveCard]);\n\n\n  // Handler for individual complexity input changes\n  const handleComplexityChange = useCallback((colId, value) => {\n    setComplexity(prev => ({\n      ...prev,\n      [colId]: parseInt(value) || 0\n    }));\n  }, []);\n\n\n  return (\n    <div className=\"flex flex-col p-8 bg-gray-50 min-h-screen\">\n      {/* Simulation Controls */}\n      <div className=\"mb-8 p-6 bg-white rounded-lg shadow-md max-w-full lg:max-w-4xl mx-auto\">\n        <h3 className=\"text-2xl font-bold text-gray-800 mb-4 border-b pb-2\">Simulation Controls</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\"> {/* Changed to 4 columns */}\n          <div>\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\">Overall WIP Limit:</label>\n            <input\n              type=\"number\"\n              value={wipLimit}\n              onChange={(e) => setWipLimit(parseInt(e.target.value) || 0)}\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n              min=\"0\"\n            />\n          </div>\n          {/* NEW: Individual Complexity Inputs */}\n          {[1, 3, 5].map(colId => ( // For columns \"Schritt A\" (1), \"Schritt B\" (3), \"Schritt C\" (5)\n            <div key={colId}>\n              <label className=\"block text-gray-700 text-sm font-bold mb-2\">Complexity (Schritt {String.fromCharCode(64 + colId)}):</label> {/* Maps 1->A, 3->C, 5->E */}\n              <input\n                type=\"number\"\n                value={complexity[colId] || 1} // Default to 1 if not set\n                onChange={(e) => handleComplexityChange(colId, e.target.value)}\n                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                min=\"1\"\n              />\n            </div>\n          ))}\n          <div>\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\">Sim Speed (sec/step):</label>\n            <input\n              type=\"number\"\n              step=\"0.1\"\n              value={simSpeed}\n              onChange={(e) => setSimSpeed(parseFloat(e.target.value) || 0.0)}\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n              min=\"0.1\"\n            />\n          </div>\n        </div>\n        <div className=\"flex justify-center space-x-4\">\n          <button\n            onClick={startSimulation}\n            disabled={!isReady || simulationRunning}\n            className={`px-6 py-3 rounded-lg text-white font-bold transition-colors duration-200 ${\n              !isReady || simulationRunning ? 'bg-gray-400 cursor-not-allowed' : 'bg-green-500 hover:bg-green-700'\n            }`}\n          >\n            Start Simulation\n          </button>\n          <button\n            onClick={stopSimulation}\n            disabled={!isReady || !simulationRunning}\n            className={`px-6 py-3 rounded-lg text-white font-bold transition-colors duration-200 ${\n              !isReady || !simulationRunning ? 'bg-gray-400 cursor-not-allowed' : 'bg-red-500 hover:bg-red-700'\n            }`}\n          >\n            Stop Simulation\n          </button>\n          <button\n            onClick={clearDashboard}\n            disabled={!isReady}\n            className={`px-6 py-3 rounded-lg text-white font-bold transition-colors duration-200 ${\n              !isReady ? 'bg-gray-400 cursor-not-allowed' : 'bg-yellow-500 hover:bg-yellow-700'\n            }`}\n          >\n            Clear Dashboard\n          </button>\n        </div>\n      </div>\n\n      {/* Kanban Board Display */}\n      <div className=\"flex p-4 overflow-x-auto items-start bg-gray-100 rounded-lg shadow-inner flex-grow\">\n        {lanes.length === 0 ? (\n          <p className=\"text-center text-gray-500 w-full p-10\">\n            No board data available. Start simulation to load cards.\n          </p>\n        ) : (\n          lanes.map((lane) => (\n            <div\n              key={lane.id}\n              ref={el => {\n                if (el) laneRefs.current.set(lane.id, el);\n                else laneRefs.current.delete(lane.id);\n              }}\n              // Column width styling\n              className=\"p-3 rounded-lg shadow-inner flex-shrink-0 mr-2 bg-gray-200 min-h-[400px] flex flex-col items-center\" // Smaller padding, less margin\n              style={{ width: '130px' }} // Fixed smaller width for columns\n            >\n              <h2 className=\"text-base font-semibold mb-2 text-gray-800 border-b border-gray-300 pb-1 text-center w-full\"> {/* Smaller text, less padding/margin */}\n                {lane.title}\n                {lane.max_wip_in_round !== undefined && ( // Display Max WIP for the round\n                    <span className=\"text-xs text-gray-500 block\">Max WIP: {lane.max_wip_in_round}</span>\n                )}\n              </h2>\n              <div className=\"flex flex-col items-center w-full mt-2 overflow-y-auto\"> {/* Center cards within column */}\n                {lane.cards.map((card, index) => {\n                  const isFlyingClone = flyingAnimations.current.some(anim => anim.card.id === card.id); // Check current ref\n                  return (\n                    <Card\n                      key={card.id}\n                      id={card.id}\n                      text={card.birth_id ? `Card ${card.birth_id}` : card.id}\n                      laneId={card.col}\n                      index={index}\n                      ref={el => {\n                        if (el) cardRefs.current.set(card.id, el);\n                        else cardRefs.current.delete(card.id);\n                      }}\n                      style={{\n                        visibility: isFlyingClone ? 'hidden' : 'visible',\n                        backgroundColor: card.is_red ? '#ca0633' : '#ffffff',\n                        width: 'auto', // Allow width to adjust\n                        minWidth: '70px', // Minimum width for \"Card 00\"\n                        maxWidth: '90px', // Max width to keep it compact\n                        padding: '6px 8px', // Smaller padding\n                        textAlign: 'center', // Center text\n                        display: 'flex', // Use flexbox for centering content\n                        justifyContent: 'center', // Center horizontally\n                        alignItems: 'center', // Center vertically\n                      }}\n                    />\n                  );\n                })}\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n\n      {/* Dashboard Table */}\n      <div className=\"mt-4 p-4 bg-white rounded-lg shadow-md max-w-full lg:max-w-4xl mx-auto text-sm\"> {/* Smaller margin, padding, text */}\n        <h3 className=\"text-xl font-bold text-gray-800 mb-3 border-b pb-1\">Dashboard</h3> {/* Smaller text, less padding */}\n        {dashboardData.length === 0 ? (\n          <p className=\"text-gray-500\">Dashboard is empty. Run a simulation!</p>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Round</th>\n                  <th className=\"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">WiP Limit</th>\n                  <th className=\"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Cycle Time (Red Card)</th>\n                  <th className=\"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Flow Efficiency</th>\n                  <th className=\"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">In Progress</th>\n                  <th className=\"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Done</th>\n                  <th className=\"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Throughput</th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {dashboardData.map((entry, index) => (\n                  <tr key={index}> {/* Fixed whitespace warning by putting content on same line or removing newlines */}\n                    <td className=\"px-2 py-1 whitespace-nowrap text-xs text-gray-900\">{entry.round}</td>\n                    <td className=\"px-2 py-1 whitespace-nowrap text-xs text-gray-900\">{entry.wip_limit}</td>\n                    <td className=\"px-2 py-1 whitespace-nowrap text-xs text-gray-900\">{entry.red_card_cycle_time}</td>\n                    <td className=\"px-2 py-1 whitespace-nowrap text-xs text-gray-900\">{entry.flow_efficiency}</td>\n                    <td className=\"px-2 py-1 whitespace-nowrap text-xs text-gray-900\">{entry.in_progress}</td>\n                    <td className=\"px-2 py-1 whitespace-nowrap text-xs text-gray-900\">{entry.done}</td>\n                    <td className=\"px-2 py-1 whitespace-nowrap text-xs text-gray-900\">{entry.throughput}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n\n\n      {/* Render flying animations on top of everything */}\n      {/* Ensure this mapping correctly uses the `flyingAnimations.current` ref */}\n      {flyingAnimations.current.map(anim => anim.startRect && (\n        <FlyingCardAnimation\n          key={anim.id}\n          card={anim.card}\n          startRect={anim.startRect}\n          endRect={anim.endRect}\n          onAnimationEnd={handleAnimationEnd}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default Board;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}